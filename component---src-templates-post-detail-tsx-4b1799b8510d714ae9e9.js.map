{"version":3,"sources":["webpack:///./src/components/gitalk/gitTalk.tsx","webpack:///./src/templates/post-detail.tsx","webpack:///./src/styles/templates/post-detail.module.styl"],"names":["GiTalk","props","useEffect","GitTalk","id","postId","owner","repo","clientID","clientSecret","admin","distractionFreeMode","render","Styles","require","pageQuery","BlogPostTemplate","post","data","markdownRemark","pageContext","previous","next","prePath","nextPath","spring","useSpring","opacity","transform","from","layoutCls","div","style","className","frontmatter","title","date","dangerouslySetInnerHTML","__html","html","classnames","to","rel","Date","getTime","toString","module","exports"],"mappings":"mQAQaA,G,UAAmC,SAACC,GAgB/C,OAdAC,qBAAU,WACO,IAAIC,IAAQ,CACzBC,GAAIH,EAAMI,OACVC,MAAO,YACPC,KAAM,qBACNC,SAAU,uBACVC,aAAc,2CACdC,MAAO,CAAC,aACRC,qBAAqB,IAGhBC,OAAO,cACb,CAACX,EAAMI,SAEH,yBAAKD,GAAG,e,YCfXS,EAASC,EAAQ,QAqDVC,GAHEC,UAlCoC,SAAAf,GAAS,gBACpDgB,EAAOhB,EAAMiB,KAAKC,eADkC,EAEZlB,EAAMmB,YAA5CC,EAFkD,EAElDA,SAAUC,EAFwC,EAExCA,KAAMC,EAFkC,EAElCA,QAASC,EAFyB,EAEzBA,SAC3BC,EAASC,YAAU,CAAEC,QAAS,EAAGC,UAAW,qBAAsBC,KAAM,CAAEF,QAAS,EAAGC,UAAW,8BACvG,OACE,kBAAC,IAAD,CAAQE,UAAWjB,EAAM,QACvB,kBAAC,IAASkB,IAAV,CAAcC,MAAOP,GACnB,6BAASQ,UAAWpB,EAAM,SACxB,gCACE,wBAAIoB,UAAWpB,EAAM,OAArB,UAAiCI,EAAKiB,mBAAtC,aAAiC,EAAkBC,OACnD,uBAAGF,UAAWpB,EAAM,MAApB,UAA+BI,EAAKiB,mBAApC,aAA+B,EAAkBE,OAEnD,6BAASH,UAAU,wBAAwBI,wBAAyB,CAAEC,OAAQrB,EAAKsB,SAErF,yBAAKN,UAAWO,IAAW3B,EAAM,QAAP,OAAsBA,EAAM,SAAcQ,GAAYC,EAAtD,KACvBD,GACC,kBAAC,OAAD,CAAMY,UAAWpB,EAAM,IAAS4B,GAAIlB,EAAUmB,IAAI,QAChD,uBAAGT,UAAWO,IAAW3B,EAAM,KAAU,WAAYA,EAAM,OAA3D,KAAmF,IACnF,0BAAMoB,UAAWpB,EAAM,OAAvB,UAAmCQ,EAASa,mBAA5C,aAAmC,EAAsBC,QAG5Db,GACC,kBAAC,OAAD,CAAMW,UAAWpB,EAAM,KAAU4B,GAAIjB,EAAWkB,IAAI,QAClD,0BAAMT,UAAWpB,EAAM,OAAvB,UAAmCS,EAAKY,mBAAxC,aAAmC,EAAkBC,OACrD,uBAAGF,UAAWO,IAAW,WAAY3B,EAAM,OAA3C,OAIN,kBAAC,EAAD,CAAQR,OAAQ,IAAIsC,KAAJ,UAAS1B,EAAKiB,mBAAd,aAAS,EAAkBE,MAAMQ,UAAUC,gBAS1C,e,qBC7DzBC,EAAOC,QAAU,CAAC,OAAS,oCAAoC,QAAU,qCAAqC,MAAQ,mCAAmC,KAAO,kCAAkC,OAAS,oCAAoC,QAAU,qCAAqC,IAAM,iCAAiC,KAAO,kCAAkC,KAAO,kCAAkC,KAAO","file":"component---src-templates-post-detail-tsx-4b1799b8510d714ae9e9.js","sourcesContent":["import React, { FunctionComponent, useEffect } from 'react'\nimport GitTalk from 'gitalk'\nimport 'gitalk/dist/gitalk.css'\n\ntype Props = {\n  postId: string\n}\n\nexport const GiTalk: FunctionComponent<Props> = (props) => {\n\n  useEffect(() => {\n    const gitalk = new GitTalk({\n      id: props.postId, // optional\n      owner: 'MLuminary',\n      repo: 'hutchins.github.io',\n      clientID: '7337a7896083b307f117',\n      clientSecret: '07a1d88f49a06d948e1a1a5c6f6818dd24456193',\n      admin: ['MLuminary'],\n      distractionFreeMode: false  // Facebook-like distraction free mode\n    })\n    // @ts-ignore\n    gitalk.render('comments')\n  }, [props.postId])\n\n  return <div id='comments'></div>\n}","import React, { FunctionComponent, useMemo } from 'react'\nimport { Link, graphql } from 'gatsby'\n\nimport Layout from '../components/layout/layout'\nimport { Site, MarkdownRemark } from '../graphql-types'\nimport classnames from 'classnames'\nimport { GiTalk } from '../components/gitalk'\nimport { animated, useSpring } from 'react-spring'\n\nconst Styles = require('../styles/templates/post-detail.module.styl')\n\ntype Props = {\n  data: {\n    markdownRemark: MarkdownRemark\n    site: Site\n  }\n  pageContext: {\n    previous: null | MarkdownRemark\n    next: null | MarkdownRemark\n    prePath: string | null\n    nextPath: string | null\n  }\n  location: Location\n}\n\nconst BlogPostTemplate: FunctionComponent<Props> = props => {\n  const post = props.data.markdownRemark\n  const { previous, next, prePath, nextPath } = props.pageContext // 由 createPage context 传递过来的数据\n  const spring = useSpring({ opacity: 1, transform: 'translate3d(0,0,0)', from: { opacity: 0, transform: 'translate3d(0, -50px, 0)' } })\n  return (\n    <Layout layoutCls={Styles['layout']}>\n      <animated.div style={spring}>\n        <article className={Styles['article']}>\n          <header>\n            <h1 className={Styles['title']}>{post.frontmatter?.title}</h1>\n            <p className={Styles['date']}>{post.frontmatter?.date}</p>\n          </header>\n          <section className='post-detail-container' dangerouslySetInnerHTML={{ __html: post.html! }} />\n        </article>\n        <div className={classnames(Styles['bottom'], { [Styles['havetwo']]: previous && next })}>\n          {previous && (\n            <Link className={Styles['pre']} to={prePath!} rel='prev'>\n              <i className={classnames(Styles['icon'], 'iconfont', Styles['left'])}>&#xe65d;</i>{' '}\n              <span className={Styles['title']}>{previous.frontmatter?.title}</span>\n            </Link>\n          )}\n          {next && (\n            <Link className={Styles['next']} to={nextPath!} rel='next'>\n              <span className={Styles['title']}>{next.frontmatter?.title}</span>\n              <i className={classnames('iconfont', Styles['icon'])}>&#xe65d;</i>\n            </Link>\n          )}\n        </div>\n        <GiTalk postId={new Date(post.frontmatter?.date).getTime().toString()} />\n      </animated.div>\n    </Layout>\n  )\n}\n\nexport default BlogPostTemplate\n// 可以接受 createPage 中的 context 作为参数\n// $slug 为 context 中的 slug\nexport const pageQuery = graphql`\n  query BlogPostBySlug($slug: String!) {\n    site {\n      siteMetadata {\n        title\n        author\n      }\n    }\n    markdownRemark(fields: { slug: { eq: $slug } }) {\n      id\n      excerpt(pruneLength: 160)\n      html\n      frontmatter {\n        title\n        date(formatString: \"MMMM DD, YYYY\")\n      }\n    }\n  }\n`\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layout\":\"post-detail-module--layout--2On7i\",\"article\":\"post-detail-module--article--QzxVM\",\"title\":\"post-detail-module--title--2D9eH\",\"date\":\"post-detail-module--date--1N9NU\",\"bottom\":\"post-detail-module--bottom--3qZNG\",\"havetwo\":\"post-detail-module--havetwo--1FmMJ\",\"pre\":\"post-detail-module--pre--27F9-\",\"next\":\"post-detail-module--next--3pbC3\",\"icon\":\"post-detail-module--icon--19oCT\",\"left\":\"post-detail-module--left--65_U0\"};"],"sourceRoot":""}