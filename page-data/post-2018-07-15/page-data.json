{"componentChunkName":"component---src-templates-post-detail-tsx","path":"/post-2018-07-15","webpackCompilationHash":"16455110c1c65d34c704","result":{"data":{"site":{"siteMetadata":{"title":"Silence","author":"默尝"}},"markdownRemark":{"id":"2a7c57e7-ebbd-5c5b-8396-b6c922f06f66","excerpt":"记一次 oneinstack 配置服务器 引言 自己的服务器因为换过好多次，每次搭建又格外费时，在网上闲逛时发现了 oneinstack 这个超好用的工具 ,可以傻瓜式「一键」安装。 node 安装 oneinstack 不支持 node 环境的安装，在这里 配置防火墙 如果此时你输入公网 ip…","html":"<h1>记一次 oneinstack 配置服务器</h1>\n<h2>引言</h2>\n<p>自己的服务器因为换过好多次，每次搭建又格外费时，在网上闲逛时发现了 <a href=\"https://oneinstack.com/auto/\">oneinstack</a> 这个超好用的工具 ,可以傻瓜式「一键」安装。</p>\n<h2>node 安装</h2>\n<p>oneinstack 不支持 node 环境的安装，在这里</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">yum <span class=\"token function\">install</span> -y nodejs</code></pre></div>\n<h2>配置防火墙</h2>\n<p>如果此时你输入公网 ip， 发现无法访问页面， 那可能是端口未开启。 CentOS 7.0 中已经用 firewalld 取代 iptables，下面能使用 firewalld 启动防火墙</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">systemctl start firewalld.service</code></pre></div>\n<p>输入以上命令，报了一个错误 「 Failed to start firewalld.service: Unit firewalld.service is masked.」，执行下面的命令的命令后再启动防火墙</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">systemctl unmask firewalld.service</code></pre></div>\n<p>然后把 80 端口和 443 端口添加到防火墙的开放端口中</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">firewall-cmd --permanent --zone=public --add-port=80/tcp\nfirewall-cmd --permanent --zone=public --add-port=443/tcp</code></pre></div>\n<p>然后重启一遍防火墙后生效</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">systemctl restart firewalld.service</code></pre></div>\n<h2>配置安全组</h2>\n<p><a href=\"https://oneinstack.com/docs/securitygroup/#11\">https://oneinstack.com/docs/securitygroup/#11</a></p>\n<p>配置完后安全组记得<strong>添加实例</strong>，或者在实例中直接配置安全组</p>\n<h2>最后</h2>\n<p>然后访问实例的公网 ip， 就可以看到 oneinstack 的首页</p>","frontmatter":{"title":"记一次 oneinstack 配置服务器","date":"July 15, 2018"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/记一次 oneinstack 配置服务器/","previous":{"fields":{"slug":"/让服务器带点绿/"},"frontmatter":{"title":"让服务器带点绿","date":"2018-07-17"}},"next":{"fields":{"slug":"/FlexDisplayRoom/"},"frontmatter":{"title":"FlexDisplayRoom","date":"2018-05-20"}}}}}